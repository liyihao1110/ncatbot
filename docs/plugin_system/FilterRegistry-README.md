# FilterRegistry æ’ä»¶ç³»ç»Ÿ

## ğŸ“š å®Œæ•´æ–‡æ¡£å¯¼èˆª

FilterRegistry æ˜¯ NCatBot çš„æ ¸å¿ƒæ’ä»¶ç³»ç»Ÿï¼Œæä¾›äº†å¼ºå¤§è€Œçµæ´»çš„æ¶ˆæ¯è¿‡æ»¤å’Œå‘½ä»¤å¤„ç†åŠŸèƒ½ã€‚

### ğŸš€ å¿«é€Ÿå¼€å§‹
- **[å¿«é€Ÿå¼€å§‹æŒ‡å—](./FilterRegistry-å¿«é€Ÿå¼€å§‹.md)** - 5åˆ†é’Ÿä¸Šæ‰‹ FilterRegistry
- **[å®Œæ•´åŠŸèƒ½æŒ‡å—](./FilterRegistry-å®Œæ•´æŒ‡å—.md)** - æ‰€æœ‰åŠŸèƒ½çš„è¯¦ç»†è¯´æ˜

### ğŸ¯ æ·±å…¥å­¦ä¹ 
- **[æœ€ä½³å®è·µ](./FilterRegistry-æœ€ä½³å®è·µ.md)** - ä¸“ä¸šå¼€å‘æŠ€å·§å’Œæ¨¡å¼
- **[å®æˆ˜æ¡ˆä¾‹](./FilterRegistry-å®æˆ˜æ¡ˆä¾‹.md)** - çœŸå®åº”ç”¨åœºæ™¯å’Œå®Œæ•´ä»£ç 

### ğŸ§ª è´¨é‡ä¿è¯
- **[æµ‹è¯•æŒ‡å—](./FilterRegistry-æµ‹è¯•æŒ‡å—.md)** - å…¨é¢çš„æµ‹è¯•æ–¹æ³•å’Œæ¡†æ¶
- **[å¸¸è§é—®é¢˜è§£ç­”](./FilterRegistry-FAQ.md)** - é—®é¢˜æ’æŸ¥å’Œè§£å†³æ–¹æ¡ˆ

---

## âš¡ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ è£…é¥°å™¨é©±åŠ¨
é€šè¿‡ç®€å•çš„è£…é¥°å™¨è½»æ¾åˆ›å»ºåŠŸèƒ½ä¸°å¯Œçš„æœºå™¨äººæ’ä»¶ï¼š

```python
@filter.command("hello")
async def say_hello(self, event: BaseMessageEvent):
    await event.reply("ä½ å¥½ï¼ğŸ¤–")

@filter.admin_only()
@filter.command("admin")
async def admin_function(self, event: BaseMessageEvent):
    await event.reply("ç®¡ç†å‘˜åŠŸèƒ½")
```

### ğŸ”’ æƒé™ç®¡ç†
å†…ç½® RBAC æƒé™ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ã€ç®¡ç†å‘˜ã€Root ä¸‰çº§æƒé™ï¼š

```python
@filter.admin_only()    # ç®¡ç†å‘˜æƒé™
@filter.root_only()     # Rootæƒé™
```

### ğŸ“± æ¶ˆæ¯ç±»å‹è¿‡æ»¤
ç²¾ç¡®æ§åˆ¶å‘½ä»¤çš„å“åº”åœºæ™¯ï¼š

```python
@filter.group_message()    # ä»…ç¾¤èŠå“åº”
@filter.private_message()  # ä»…ç§èŠå“åº”
```

### ğŸ¨ è‡ªå®šä¹‰è¿‡æ»¤å™¨
å¼ºå¤§çš„è‡ªå®šä¹‰è¿‡æ»¤é€»è¾‘ï¼Œæ”¯æŒ Lambda å’Œç‹¬ç«‹å‡½æ•°ï¼š

```python
@filter.custom(lambda event: 'ç´§æ€¥' in event.raw_message)
async def emergency_handler(self, event: BaseMessageEvent):
    await event.reply("æ”¶åˆ°ç´§æ€¥æ¶ˆæ¯ï¼âš ï¸")
```

### ğŸ“ æ™ºèƒ½å‚æ•°è§£æ
è‡ªåŠ¨ç±»å‹è½¬æ¢å’Œ MessageSegment æ”¯æŒï¼š

```python
@filter.command("è®¡ç®—")
async def calculate(self, event: BaseMessageEvent, a: int, b: int):
    result = a + b
    await event.reply(f"{a} + {b} = {result}")
```

---

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© FilterRegistryï¼Ÿ

### âœ¨ ç®€å•æ˜“ç”¨
- **é›¶å­¦ä¹ æˆæœ¬** - ç†Ÿæ‚‰ Python è£…é¥°å™¨å³å¯ä¸Šæ‰‹
- **ç›´è§‚çš„API** - å‡½æ•°åå’Œè£…é¥°å™¨å«ä¹‰æ¸…æ™°
- **ä¸°å¯Œçš„ç¤ºä¾‹** - å®Œæ•´çš„æ–‡æ¡£å’Œå®æˆ˜æ¡ˆä¾‹

### ğŸš€ åŠŸèƒ½å¼ºå¤§
- **å…¨é¢çš„è¿‡æ»¤å™¨** - æƒé™ã€æ¶ˆæ¯ç±»å‹ã€è‡ªå®šä¹‰é€»è¾‘
- **æ™ºèƒ½è§£æ** - å‚æ•°ç±»å‹è‡ªåŠ¨è½¬æ¢
- **äº‹ä»¶æ”¯æŒ** - æ¶ˆæ¯ã€é€šçŸ¥ã€è¯·æ±‚äº‹ä»¶å…¨è¦†ç›–

### ğŸ”§ é«˜åº¦çµæ´»
- **è£…é¥°å™¨ç»„åˆ** - å¤šä¸ªè¿‡æ»¤å™¨è‡ªç”±ç»„åˆ
- **å¯æ‰©å±•æ¶æ„** - è½»æ¾æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½
- **é…ç½®é©±åŠ¨** - åŠ¨æ€è°ƒæ•´æ’ä»¶è¡Œä¸º

### ğŸ“Š ç”Ÿäº§å°±ç»ª
- **æ€§èƒ½ä¼˜åŒ–** - é«˜æ•ˆçš„äº‹ä»¶å¤„ç†æœºåˆ¶
- **é”™è¯¯å¤„ç†** - å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—
- **æµ‹è¯•æ”¯æŒ** - å†…ç½®æµ‹è¯•æ¡†æ¶

---

## ğŸ† æˆåŠŸæ¡ˆä¾‹

- **ç­¾åˆ°ç³»ç»Ÿ** - æ¯æ—¥ç­¾åˆ°ã€è¿ç»­å¥–åŠ±ã€æ’è¡Œæ¦œ
- **å¤©æ°”æŸ¥è¯¢** - å®æ—¶å¤©æ°”ã€é¢„æŠ¥ã€åŸå¸‚ç®¡ç†
- **ç¾¤ç®¡ç†** - è¿è§„æ£€æµ‹ã€è‡ªåŠ¨åŒ–å¤„ç†ã€æƒé™æ§åˆ¶
- **ç§¯åˆ†å•†åŸ** - ç§¯åˆ†è·å–ã€å•†å“ç®¡ç†ã€è´­ä¹°è®°å½•

æŸ¥çœ‹ [å®æˆ˜æ¡ˆä¾‹](./FilterRegistry-å®æˆ˜æ¡ˆä¾‹.md) äº†è§£è¯¦ç»†å®ç°ã€‚

---

## ğŸ“– æ¨èå­¦ä¹ è·¯å¾„

### åˆå­¦è€…è·¯å¾„
1. ğŸ“– [å¿«é€Ÿå¼€å§‹](./FilterRegistry-å¿«é€Ÿå¼€å§‹.md) - äº†è§£åŸºç¡€æ¦‚å¿µ
2. ğŸ¯ åˆ›å»ºç¬¬ä¸€ä¸ªæ’ä»¶
3. ğŸ§ª [æµ‹è¯•æŒ‡å—](./FilterRegistry-æµ‹è¯•æŒ‡å—.md) - ç¡®ä¿ä»£ç è´¨é‡

### è¿›é˜¶å¼€å‘è€…è·¯å¾„
1. ğŸ“š [å®Œæ•´åŠŸèƒ½æŒ‡å—](./FilterRegistry-å®Œæ•´æŒ‡å—.md) - æŒæ¡æ‰€æœ‰åŠŸèƒ½
2. ğŸ¨ [æœ€ä½³å®è·µ](./FilterRegistry-æœ€ä½³å®è·µ.md) - ä¸“ä¸šå¼€å‘æŠ€å·§
3. ğŸ’¼ [å®æˆ˜æ¡ˆä¾‹](./FilterRegistry-å®æˆ˜æ¡ˆä¾‹.md) - çœŸå®é¡¹ç›®ç»éªŒ

### é—®é¢˜è§£å†³è·¯å¾„
1. ğŸ” [å¸¸è§é—®é¢˜è§£ç­”](./FilterRegistry-FAQ.md) - å¿«é€Ÿæ‰¾åˆ°è§£å†³æ–¹æ¡ˆ
2. ğŸ“ æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. ğŸ§ª ä½¿ç”¨æµ‹è¯•æ¡†æ¶éªŒè¯åŠŸèƒ½

---

## ğŸ¤ ç¤¾åŒºæ”¯æŒ

- **é—®é¢˜åé¦ˆ** - é‡åˆ°é—®é¢˜è¯·æŸ¥çœ‹ [FAQ](./FilterRegistry-FAQ.md)
- **æœ€ä½³å®è·µ** - åˆ†äº«ä½ çš„æ’ä»¶å¼€å‘ç»éªŒ
- **åŠŸèƒ½å»ºè®®** - æå‡ºæ–°åŠŸèƒ½éœ€æ±‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªå¼€æºè®¸å¯è¯ï¼Œæ¬¢è¿è´¡çŒ®ä»£ç å’Œæ–‡æ¡£æ”¹è¿›ã€‚

---

*å¼€å§‹ä½ çš„æœºå™¨äººå¼€å‘ä¹‹æ—…å§ï¼ğŸ‰*
