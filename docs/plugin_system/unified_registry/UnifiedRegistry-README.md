# UnifiedRegistry ç»Ÿä¸€æ³¨å†Œç³»ç»Ÿ

## ğŸš€ æ¦‚è¿°

**UnifiedRegistry** æ˜¯ NCatBot çš„ç°ä»£åŒ–æ’ä»¶ç³»ç»Ÿæ ¸å¿ƒï¼Œæä¾›ç»Ÿä¸€çš„å‘½ä»¤æ³¨å†Œå’Œè¿‡æ»¤å™¨ç®¡ç†åŠŸèƒ½ã€‚å®ƒé‡‡ç”¨å£°æ˜å¼è®¾è®¡ï¼Œæ”¯æŒç°ä»£åŒ–çš„å‘½ä»¤è¡Œå‚æ•°è§£æï¼Œè®©æ’ä»¶å¼€å‘å˜å¾—ç®€å•è€Œå¼ºå¤§ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ ç»Ÿä¸€æ³¨å†Œç®¡ç†
- **å‘½ä»¤æ³¨å†Œ**: ä½¿ç”¨è£…é¥°å™¨è½»æ¾æ³¨å†Œå‘½ä»¤
- **è¿‡æ»¤å™¨ç³»ç»Ÿ**: çµæ´»çš„æƒé™æ§åˆ¶å’Œæ¶ˆæ¯è¿‡æ»¤
- **å‚æ•°å¤„ç†**: æ™ºèƒ½çš„å‚æ•°è§£æå’Œç±»å‹è½¬æ¢

### ğŸ”§ ç°ä»£åŒ–å‘½ä»¤è¡Œè§£æ
- **å¤šç§é€‰é¡¹æ ¼å¼**: æ”¯æŒ `-v`, `--verbose`, `--env=prod`
- **å¼•ç”¨å­—ç¬¦ä¸²**: æ”¯æŒ `"åŒ…å«ç©ºæ ¼çš„å‚æ•°"`
- **éæ–‡æœ¬å…ƒç´ **: æ™ºèƒ½å¤„ç†å›¾ç‰‡ã€@ç”¨æˆ·ç­‰æ¶ˆæ¯å…ƒç´ 

### ğŸ›¡ï¸ æ™ºèƒ½è¿‡æ»¤å™¨
- **å†…ç½®è¿‡æ»¤å™¨**: ç¾¤èŠã€ç§èŠã€ç®¡ç†å‘˜æƒé™ç­‰
- **è‡ªå®šä¹‰è¿‡æ»¤å™¨**: æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤é€»è¾‘
- **è¿‡æ»¤å™¨ç»„åˆ**: å¤šä¸ªè¿‡æ»¤å™¨å¯ä»¥ç»„åˆä½¿ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

```python
from ncatbot.plugin_system import NcatBotPlugin
from ncatbot.plugin_system import command_registry
from ncatbot.plugin_system import group_only, admin_only
from ncatbot.plugin_system import option, param
from ncatbot.core.event import BaseMessageEvent
from ncatbot.utils import get_log
LOG = get_log(__name__)

class MyPlugin(NcatBotPlugin):
    name = "MyPlugin"
    version = "1.0.0"
    
    async def on_load(self):
        pass

    # ç®€å•å‘½ä»¤ï¼ˆæ³¨æ„ï¼šé™¤selfå¤–çš„æ‰€æœ‰å‚æ•°å¿…é¡»æœ‰ç±»å‹æ³¨è§£ï¼‰
    @command_registry.command("hello")
    async def hello_cmd(self, event: BaseMessageEvent):
        await event.reply("Hello, World!")
    
    # å¸¦æƒé™çš„å‘½ä»¤
    @group_only
    @command_registry.command("kick")
    async def kick_cmd(self, event: BaseMessageEvent, user_id: str):
        await event.reply(f"è¸¢å‡ºç”¨æˆ·: {user_id}")
    
    # å¤æ‚å‚æ•°å‘½ä»¤
    @admin_only
    @command_registry.command("deploy")
    @option(short_name="v", long_name="verbose", help="è¯¦ç»†è¾“å‡º")
    @param(name="env", default="dev", help="éƒ¨ç½²ç¯å¢ƒ")
    async def deploy_cmd(self, event: BaseMessageEvent, app_name: str, env: str = "dev", verbose: bool = False):
        result = f"éƒ¨ç½² {app_name} åˆ° {env} ç¯å¢ƒ"
        if verbose:
            result += " (è¯¦ç»†æ¨¡å¼)"
        await event.reply(result)
```

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ¯ å¿«é€Ÿå…¥é—¨
- **[å¿«é€Ÿå¼€å§‹æŒ‡å—](./UnifiedRegistry-å¿«é€Ÿå¼€å§‹.md)** - 5åˆ†é’Ÿä¸Šæ‰‹æ•™ç¨‹

### ğŸ“– åŠŸèƒ½æŒ‡å—
- **[è¿‡æ»¤å™¨ç³»ç»Ÿ](./UnifiedRegistry-è¿‡æ»¤å™¨ç³»ç»Ÿ.md)** - æƒé™æ§åˆ¶å’Œæ¶ˆæ¯è¿‡æ»¤
- **[å‘½ä»¤æ³¨å†Œç³»ç»Ÿ](./UnifiedRegistry-å‘½ä»¤ç³»ç»Ÿ.md)** - å‘½ä»¤æ³¨å†Œå’Œç®¡ç†
- **[å‚æ•°è§£ææŒ‡å—](./UnifiedRegistry-å‚æ•°è§£æ.md)** - ç°ä»£åŒ–å‚æ•°å¤„ç†

### ğŸ’¡ è¿›é˜¶å†…å®¹
- **[æœ€ä½³å®è·µ](./UnifiedRegistry-æœ€ä½³å®è·µ.md)** - ä¸“ä¸šå¼€å‘æŒ‡å¯¼
- **[å®æˆ˜æ¡ˆä¾‹](./UnifiedRegistry-å®æˆ˜æ¡ˆä¾‹.md)** - çœŸå®åº”ç”¨åœºæ™¯
- **[æµ‹è¯•æŒ‡å—](./UnifiedRegistry-æµ‹è¯•æŒ‡å—.md)** - æ’ä»¶æµ‹è¯•æ–¹æ³•
- **[å¸¸è§é—®é¢˜](./UnifiedRegistry-FAQ.md)** - é—®é¢˜è§£å†³æ‰‹å†Œ

## ğŸ¯ é€‚ç”¨åœºæ™¯

- âœ… **ç¾¤ç®¡ç†æœºå™¨äºº**: è¸¢äººã€ç¦è¨€ã€å…¬å‘Šç­‰ç®¡ç†åŠŸèƒ½
- âœ… **ä¿¡æ¯æŸ¥è¯¢æœåŠ¡**: å¤©æ°”ã€ç¿»è¯‘ã€æœç´¢ç­‰å·¥å…·
- âœ… **æ¸¸æˆå¨±ä¹æ’ä»¶**: ç­¾åˆ°ã€æŠ½å¥–ã€å°æ¸¸æˆç­‰
- âœ… **æ•°æ®å¤„ç†å·¥å…·**: ç»Ÿè®¡ã€åˆ†æã€æŠ¥è¡¨ç”Ÿæˆ
- âœ… **è‡ªåŠ¨åŒ–æœåŠ¡**: å®šæ—¶ä»»åŠ¡ã€ç›‘æ§å‘Šè­¦ç­‰

## ğŸ”„ ä¸æ—§ç³»ç»Ÿçš„åŒºåˆ«

| ç‰¹æ€§ | æ—§ç‰ˆæœ¬ | UnifiedRegistry |
|------|--------|-----------------|
| å‘½ä»¤æ³¨å†Œ | æ‰‹åŠ¨å­—ç¬¦ä¸²åŒ¹é… | è£…é¥°å™¨è‡ªåŠ¨æ³¨å†Œ |
| å‚æ•°è§£æ | ç®€å•å­—ç¬¦ä¸²åˆ†å‰² | ç°ä»£åŒ–å‘½ä»¤è¡Œè§£æ |
| æƒé™æ§åˆ¶ | åˆ†æ•£çš„æƒé™æ£€æŸ¥ | ç»Ÿä¸€çš„è¿‡æ»¤å™¨ç³»ç»Ÿ |
| é”™è¯¯å¤„ç† | åŸºç¡€é”™è¯¯ä¿¡æ¯ | æ™ºèƒ½é”™è¯¯æç¤ºå’Œå»ºè®® |
| å¼€å‘ä½“éªŒ | ç¹ççš„æ ·æ¿ä»£ç  | å£°æ˜å¼ç®€æ´è¯­æ³• |

## ğŸš¦ å¼€å§‹ä½¿ç”¨

1. **é˜…è¯»**: [å¿«é€Ÿå¼€å§‹æŒ‡å—](./UnifiedRegistry-å¿«é€Ÿå¼€å§‹.md)
2. **å­¦ä¹ **: é€‰æ‹©ç›¸åº”çš„åŠŸèƒ½æŒ‡å—æ·±å…¥äº†è§£
3. **å®è·µ**: å‚è€ƒå®æˆ˜æ¡ˆä¾‹å¼€å‘è‡ªå·±çš„æ’ä»¶
4. **æµ‹è¯•**: ä½¿ç”¨æµ‹è¯•æŒ‡å—ç¡®ä¿æ’ä»¶è´¨é‡

---

**ğŸ’¡ æç¤º**: UnifiedRegistry è®¾è®¡æ³¨é‡ç®€æ´æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ¨èä¼˜å…ˆä½¿ç”¨å†…ç½®åŠŸèƒ½ï¼Œåœ¨éœ€è¦æ—¶å†è€ƒè™‘è‡ªå®šä¹‰æ‰©å±•ã€‚
