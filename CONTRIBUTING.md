# è´¡çŒ®æŒ‡å—

æ¬¢è¿å‚ä¸ NcatBot é¡¹ç›®ï¼æˆ‘ä»¬è‡´åŠ›äºæ‰“é€ ä¸€ä¸ªå‹å¥½çš„å¼€æºç¤¾åŒºï¼Œä»¥ä¸‹æ˜¯å‚ä¸ NcatBot é¡¹ç›®æœ¬ä½“è´¡çŒ®çš„è§„èŒƒæµç¨‹ã€‚

## ğŸ“Œ å¼€å§‹ä¹‹å‰

1. ç¡®è®¤é¡¹ç›®é‡‡ç”¨
2. é˜…è¯» [é¡¹ç›®æ–‡æ¡£](README.md)
3. åŠ å…¥å¼€å‘è€…äº¤æµç¾¤ï¼š`201487478`

## ğŸŒ± å¼€å‘æµç¨‹

### åˆ†æ”¯ç®¡ç†

```bash
git clone https://github.com/liyihao1110/ncatbot
git checkout -b feat/Function-development  # åŠŸèƒ½å¼€å‘åˆ†æ”¯
# æˆ–
git checkout -b fix/issue-fix         # é—®é¢˜ä¿®å¤åˆ†æ”¯
```

### pre-commit é’©å­

æœ¬é¡¹ç›®ä½¿ç”¨ `pre-commit` æ¡†æ¶è‡ªåŠ¨æ£€æŸ¥ä»£ç è´¨é‡å’Œè§„èŒƒï¼Œæ¯æ¬¡æäº¤æ—¶è‡ªåŠ¨è¿è¡Œã€‚

#### å®‰è£…æ­¥éª¤

```bash
# 1. å®‰è£… pre-commitï¼ˆé¦–æ¬¡ï¼‰
pip install pre-commit

# 2. åœ¨é¡¹ç›®æ ¹ç›®å½•å®‰è£… git é’©å­
pre-commit install

# 3. éªŒè¯æ‰€æœ‰æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
pre-commit run --all-files
```

#### æ£€æŸ¥è§„èŒƒ

å¯ç”¨åå°†è‡ªåŠ¨æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š

1. **ä»£ç æ£€æŸ¥ä¸æ ¼å¼åŒ–**
   - `ruff`ï¼šPython ä»£ç æ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤
   - `ruff-format`ï¼šä»£ç æ ¼å¼åŒ–ï¼ˆéµå¾ª PEP8 è§„èŒƒï¼‰

2. **æ‹¼å†™æ£€æŸ¥**
   - `codespell`ï¼šæ£€æŸ¥æ–‡æœ¬ä¸­çš„æ‹¼å†™é”™è¯¯

3. **æ–‡ä»¶è§„èŒƒ**
   - ç§»é™¤è¡Œå°¾ç©ºç™½
   - æ–‡ä»¶ç»“å°¾ç¡®ä¿ä¸ºå•ä¸ªæ¢è¡Œç¬¦
   - æ··åˆè¡Œå°¾ä¿®å¤

4. **å®‰å…¨æ£€æŸ¥**
   - æ£€æµ‹ç§é’¥æ–‡ä»¶ï¼ˆé˜²æ­¢æ³„éœ²æ•æ„Ÿä¿¡æ¯ï¼‰
   - æ£€æµ‹è°ƒè¯•è¯­å¥
   - æ£€æŸ¥ç¬¦å·é“¾æ¥å®Œæ•´æ€§

5. **é…ç½®æ–‡ä»¶éªŒè¯**
   - YAML æ–‡ä»¶æ ¼å¼æ£€æŸ¥
   - TOML æ–‡ä»¶æ ¼å¼æ£€æŸ¥

6. **Python è¯­æ³•æ£€æŸ¥**
   - éªŒè¯ Python ä»£ç çš„ AST æœ‰æ•ˆæ€§

æäº¤å‰å¦‚éœ€è·³è¿‡é’©å­æ£€æŸ¥ï¼Œä½¿ç”¨ `git commit --no-verify`

æ¯æ¬¡æäº¤ï¼ˆcommitï¼‰ä»£ç æ—¶ï¼Œ pre-commit ä¼šè‡ªåŠ¨è¿è¡Œé…ç½®çš„æ£€æŸ¥å·¥å…·ï¼Œå¦‚ä»£ç æ ¼å¼åŒ–ã€ç±»å‹æ£€æŸ¥ç­‰ï¼Œç¡®ä¿ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒã€‚å¹¶è‡ªåŠ¨ä¿®å¤ä¸€äº›ç®€å•çš„é—®é¢˜ã€‚**ä½ éœ€è¦æ‰‹åŠ¨å†æ¬¡æ‰§è¡Œ `git add` æ¥æ·»åŠ ä¿®å¤åçš„æ–‡ä»¶ã€‚**

å¦‚æœå­˜åœ¨ `pre-commit` æ— æ³•è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ï¼Œåº”è¯¥æ‰‹åŠ¨ä¿®å¤åå†æäº¤ã€‚å¦‚æœç¡®è®¤ä»£ç æ— è¯¯ï¼Œå¯ä»¥åœ¨ commit æ—¶æ·»åŠ  `--no-verify` å‚æ•°è·³è¿‡æ£€æŸ¥ï¼Œä½†ä¸å»ºè®®é¢‘ç¹ä½¿ç”¨ã€‚

### æäº¤è§„èŒƒ

é‡‡ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š
```bash
git commit -m "feat: æ·»åŠ æ¶ˆæ¯æ’¤å›åŠŸèƒ½"
git commit -m "fix(api): ä¿®å¤æ¶ˆæ¯é˜Ÿåˆ—æº¢å‡ºé—®é¢˜ #123"
git commit -m "docs: æ›´æ–°å®‰è£…æŒ‡å—"
```
### Pull Request

1. æ¨é€åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
2. åœ¨ Github åˆ›å»º Pull Request
3. å…³è”ç›¸å…³ Issueï¼ˆå¦‚ `#123`ï¼‰

## ğŸ§ª æµ‹è¯•è¦æ±‚

æ‰€æœ‰ä»£ç ä¿®æ”¹å¿…é¡»é€šè¿‡æµ‹è¯•ã€‚

åç»­æˆ‘ä»¬å°†å¼•å…¥æ ‡å‡†çš„æµ‹è¯•æ¡†æ¶ï¼Œç›®å‰è¯·ç¡®ä¿æ‰‹åŠ¨æµ‹è¯•ä½ å¢åŠ çš„åŠŸèƒ½ã€‚

## ğŸ–‹ ä»£ç è§„èŒƒ

1. éµå¾ª PEP8 è§„èŒƒ
2. **å¿…é¡»æ·»åŠ ç±»å‹æç¤º**ï¼š
```python
def send_message(content: str, group_id: int) -> MessageResult:
    ...
```
3. æ–‡æ¡£å­—ç¬¦ä¸²æ ‡å‡†ï¼š
```python
def handle_event(event: Event):
    """å¤„ç†æœºå™¨äººäº‹ä»¶
    Args:
        event: ç»§æ‰¿è‡ªBaseEventçš„äº‹ä»¶å¯¹è±¡
    Returns:
        æ— è¿”å›å€¼ï¼Œå¯èƒ½äº§ç”Ÿå‰¯ä½œç”¨
    """
```
